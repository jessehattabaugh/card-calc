<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>card-calc</title>
	<meta name="description" content="Calculate the cost per gigabyte of a storage device." />
	<style>
		label {
			display: block;
		}
	</style>
</head>

<body>

	<h1>calculate the cost per gigabyte of a storage device</h1>

	<label>Capacity: <input id="capacity" type="number" /> GB</label>
	<label>Price: <input id="price" type="number" /> Dollars</label>
	<label>Dollars per GB: <output id="perCapacity"></output></label>
	<script>
		document.addEventListener('input',(event) => {
			const {id,value}=event.target;
			document.dispatchEvent(new CustomEvent(`${id}-change`,{detail: value}));
			console.debug(`${id} updated`,{value});
		});

		let capacity=0;
		let price=0;

		function computeOutput() {
			const output=document.querySelector('output');
			if(capacity && price) {
				output.textContent=capacity/price;
				console.debug('output computed',{capacity,price});
			}
		}

		document.addEventListener('capacity-change',(event) => {
			capacity=event.detail;
			computeOutput();
		});

		document.addEventListener('price-change',(event) => {
			price=event.detail;
			computeOutput();
		});
	</script>
</body>

</html>